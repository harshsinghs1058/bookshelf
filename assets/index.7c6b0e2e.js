import{j as g,R as k,r as d,u as v,a as N,f as b,N as y,B as C,b as I,c as x,d as A}from"./vendor.29acef5d.js";const U=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerpolicy&&(t.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?t.credentials="include":s.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(s){if(s.ep)return;s.ep=!0;const t=n(s);fetch(s.href,t)}};U();const e=g.exports.jsx,i=g.exports.jsxs,j=g.exports.Fragment,S=k.createContext(void 0),P=({children:r})=>{const[l,n]=d.exports.useState({isSignedIn:!1,uid:""});d.exports.useEffect(()=>{const a=localStorage.getItem("bookshelfAuth");if(a){const c=JSON.parse(a);c.isSignedIn&&n(c)}},[]);const t=[l,a=>{n({isSignedIn:!0,email:a})},()=>{n({isSignedIn:!1,uid:""})}];return e(S.Provider,{value:t,children:r})},w=()=>{const r=d.exports.useContext(S);if(r===void 0)throw new Error("you can only use useAuth inside AuthContext.Provider");return r};function B(){const[r,l]=d.exports.useState(window.innerWidth),[n,o,s]=w();window.addEventListener("resize",()=>l(window.innerWidth));const t=v(),a=()=>{localStorage.setItem("bookshelfAuth",JSON.stringify({isSignedIn:!1,uid:""})),s(),t("/bookshelf/signIn")};return i("div",{className:"bg-black text-white items-center flex justify-between h-16 w-screen px-20",children:[e("div",{className:"font-bold text-2xl md:text-4xl",children:"BookShelf"}),r>768-768?e("div",{children:e(c,{})}):e("div",{children:"phone"})]});function c(){return i("div",{className:"flex text-xl",children:[e("div",{className:"cursor-pointer mx-5 hover:bg-gray-500 rounded-xl px-5 py-2",onClick:()=>t("/bookshelf/CreateNewBook"),children:"Add Book"}),e("div",{className:"cursor-pointer mx-5 hover:bg-gray-500 rounded-xl px-5 py-2",onClick:a,children:"Sign Out"})]})}}const E={title:"",year:"2020",thumbnailUrl:"",bookUrl:"",desc:""},O=r=>{let l={};return r.title.length==0&&(l.title="Required"),r.year.length==0&&(l.year="Required"),r.thumbnailUrl.length==0&&(l.thumbnailUrl="Required"),r.bookUrl.length==0&&(l.bookUrl="Required"),r.desc.length==0&&(l.desc="Required"),l};function L(){const r=N({initialValues:E,validate:O}),[l,n]=d.exports.useState(!1),[o,s]=d.exports.useState(!1),[t,a,c]=w(),m=async f=>{f.preventDefault(),s(!0),r.errors.title||r.errors.bookUrl||r.errors.desc||r.errors.thumbnailUrl||r.errors.year||(n(!0),b.firestore().collection(t.uid).doc().set({title:r.values.title,bookUrl:r.values.bookUrl,desc:r.values.desc,thumbnailUrl:r.values.thumbnailUrl,year:r.values.year}),n(!1))};return i("div",{className:"flex flex-col items-center w-screen h-screen",children:[e(B,{className:"h-20"}),e("div",{className:"w-screen text-4xl font-bold flex justify-center items-center h-20 ",children:"Add New Book"}),i("div",{className:"ml-10 items-start flex flex-col w-60%",children:[e("div",{className:"text-2xl mb-2 ml-3",children:"Title"}),e("div",{className:" border-2 border-black rounded-2xl w-full focus-within:border-blue-500 focus-within:border-3 pr-7",children:e("input",{type:"text",placeholder:"Book Title",className:" text-2xl m-1 ml-3 outline-none w-full ",formNoValidate:!0,name:"title",onChange:r.handleChange,value:r.values.title,onBlur:r.handleBlur,autoFocus:!0})}),e("div",{className:"text-red-600 ml-4",children:r.errors.title}),e("div",{className:"text-2xl mb-2 ml-3",children:"Publish Year"}),e("div",{className:" border-2 border-black rounded-2xl w-full focus-within:border-blue-500 focus-within:border-3 pr-10",children:e("input",{type:"number",min:"1900",max:"2020",step:"1",placeholder:"Book Title",className:" text-2xl m-1 ml-3 outline-none w-full",name:"year",onChange:r.handleChange,value:r.values.year,onBlur:r.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:r.errors.year}),e("div",{className:"text-2xl mb-2 ml-3",children:"Thumbnail URL"}),e("div",{className:" border-2 border-black rounded-2xl w-full focus-within:border-blue-500 focus-within:border-3 pr-7",children:e("input",{type:"url",placeholder:"Thumbnail URL",className:" text-2xl m-1 ml-3 outline-none w-full ",name:"thumbnailUrl",onChange:r.handleChange,value:r.values.thumbnailUrl,onBlur:r.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:r.errors.thumbnailUrl}),e("div",{className:"text-2xl mb-2 ml-3",children:"Book URL"}),e("div",{className:" border-2 border-black rounded-2xl w-full focus-within:border-blue-500 focus-within:border-3 pr-7",children:e("input",{type:"text",placeholder:"Book PDF Url",className:" text-2xl m-1 ml-3 outline-none w-full ",name:"bookUrl",onChange:r.handleChange,value:r.values.bookUrl,onBlur:r.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:r.errors.bookUrl}),e("div",{className:"text-2xl mb-2 ml-3",children:"Description"}),e("div",{className:" border-2 border-black rounded-2xl w-full focus-within:border-blue-500 focus-within:border-3 pr-5",children:e("textarea",{className:" text-2xl m-1 ml-3 outline-none w-full",placeholder:"Description",name:"desc",onChange:r.handleChange,value:r.values.desc,onBlur:r.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:r.errors.desc})]}),e("button",{className:"text-2xl my-4 px-10 font-bold  bg-gray-500 hover:bg-black py-4 rounded-lg  text-white",onClick:m,children:"CONTINUE"})]})}const M={email:"",password:"",confirmPassword:""},R=r=>{let l={};const n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.email.trim()?n.test(r.email.trim())||(l.email="Invalid email"):l.email="Email is required",r.password.length<8&&(l.password="Min length is 8"),r.confirmPassword.length<8?l.confirmPassword="Min length is 8":r.confirmPassword!==r.password&&(l.confirmPassword="MisMatch Password"),l};function F(){const[r,l]=d.exports.useState(window.screen.width),n=v(),o=N({initialValues:M,validate:R}),[s,t]=d.exports.useState(!1),[a,c]=d.exports.useState(!1);window.addEventListener("resize",()=>{l(window.innerWidth)});const m=async f=>{f.preventDefault(),t(!0),o.errors.email||o.errors.password||o.errors.confirmPassword||(c(!0),b.auth().createUserWithEmailAndPassword(o.values.email.trim(),o.values.password).then(u=>{var h=u.user;localStorage.setItem("bookshelfAuth",JSON.stringify({isSignedIn:!0,uid:h.multiFactor.user.uid})),n("/bookshelf/books",{replace:!0})}).catch(u=>{var h=u.code,p=u.message;alert(h+" "+p)}),c(!1))};return e("div",{className:"w-screen h-screen flex justify-center items-center bg-green-700",children:i("div",{className:"flex w-5/6 h-5/6 bg-white rounded-3xl justify-center",children:[r>768&&e("div",{className:"bg-yellow-500 w-1/2 flex flex-col items-start justify-center rounded-l-3xl",children:i("div",{className:"mx-auto w-90%",children:[i("div",{className:"lg:text-6xl text-white md:text-4xl",children:[e("span",{className:"font-bold",children:"MY "}),"BookShelf"]}),e("div",{children:"Its not just a E-BookShelf ,its a way to wide breadth of information, experience, and knowledge."})]})}),i("div",{className:"flex flex-col items-center md:w-1/2 w-full h-full py-10 justify-evenly",children:[e("h1",{className:"font-bold text-4xl",children:"Create Account"}),i("div",{className:"mx-10",children:[e("div",{className:"border-2 border-black rounded-2xl focus-within:border-blue-500 lg:w-96 w-90%  focus-within:border-3",children:e("input",{type:"email",placeholder:"E-Mail",className:" text-xl m-1 ml-3 outline-none w-11/12",formNoValidate:!0,name:"email",onChange:o.handleChange,value:o.values.email,onBlur:o.handleBlur,autoFocus:!0})}),e("div",{className:"text-red-600 ml-4",children:o.errors.email})]}),i("div",{className:"mx-10",children:[e("div",{className:"border-2 border-black rounded-2xl focus-within:border-blue-500 lg:w-96 w-90%  focus-within:border-3",children:e("input",{type:"password",placeholder:"Password",className:" text-xl m-1 ml-3 outline-none w-11/12",formNoValidate:!0,name:"password",onChange:o.handleChange,value:o.values.password,onBlur:o.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:o.errors.password})]}),i("div",{className:"mx-10",children:[e("div",{className:"border-2 border-black rounded-2xl focus-within:border-blue-500 lg:w-96 w-90%  focus-within:border-3",children:e("input",{type:"text",placeholder:"Confirm Password",className:" text-xl m-1 ml-3 outline-none w-11/12",formNoValidate:!0,name:"confirmPassword",onChange:o.handleChange,value:o.values.confirmPassword,onBlur:o.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:o.errors.confirmPassword})]}),e("div",{className:"rounded-2xl bg-yellow-400 px-20 py-2 text-2xl font-bold text-white hover:text-black hover:border-black hover:border-2 cursor-pointer",onClick:m,children:"Sign Up"}),e("hr",{className:"border-t-2 border-gray-500 my-3 h-1 w-9/12"}),e("div",{className:"rounded-2xl bg-blue-400 px-20 py-2 text-2xl font-bold text-white hover:text-black hover:border-black hover:border-2 cursor-pointer",onClick:()=>n("/bookshelf/signIn"),children:"Sign in"})]})]})})}const V={email:"",password:""},z=r=>{let l={};const n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return r.email.trim()?n.test(r.email.trim())||(l.email="Invalid email"):l.email="Email is required",r.password.length<8&&(l.password="Min length is 8"),l};function W(){const[r,l]=d.exports.useState(window.screen.width),n=v(),[o,s]=d.exports.useState(!1),t=N({initialValues:V,validate:z}),[a,c]=d.exports.useState(!1);w(),window.addEventListener("resize",()=>{l(window.innerWidth)});const m=async f=>{f.preventDefault(),c(!0),t.errors.email||t.errors.password||(s(!0),b.auth().signInWithEmailAndPassword(t.values.email.trim(),t.values.password).then(u=>{var h=u.user;localStorage.setItem("bookshelfAuth",JSON.stringify({isSignedIn:!0,uid:h.multiFactor.user.uid})),n("/bookshelf/books",{replace:!0})}).catch(u=>{var h=u.code,p=u.message;alert(h+" "+p)}),s(!1))};return e("div",{className:"w-screen h-screen flex justify-center items-center bg-green-700",children:i("div",{className:"flex w-5/6 h-5/6 bg-white rounded-3xl justify-center",children:[r>768&&e("div",{className:"bg-yellow-500 w-1/2 flex flex-col items-start justify-center rounded-l-3xl",children:i("div",{className:"mx-auto w-90%",children:[i("div",{className:"lg:text-6xl text-white md:text-4xl",children:[e("span",{className:"font-bold",children:"MY "}),"BookShelf"]}),e("div",{children:"Its not just a E-BookShelf ,its a way to wide breadth of information, experience, and knowledge."})]})}),i("div",{className:"flex flex-col items-center md:w-1/2 w-full h-full py-10 justify-evenly",children:[e("h1",{className:"font-bold text-4xl",children:"Create Account"}),i("div",{className:"mx-10",children:[e("div",{className:"border-2 border-black rounded-2xl focus-within:border-blue-500 lg:w-96 w-90%  focus-within:border-3",children:e("input",{type:"email",placeholder:"E-Mail",className:" text-xl m-1 ml-3 outline-none w-11/12",formNoValidate:!0,name:"email",onChange:t.handleChange,value:t.values.email,onBlur:t.handleBlur,autoFocus:!0})}),e("div",{className:"text-red-600 ml-4",children:t.errors.email})]}),i("div",{className:"mx-10",children:[e("div",{className:"border-2 border-black rounded-2xl focus-within:border-blue-500 lg:w-96 w-90%  focus-within:border-3",children:e("input",{type:"password",placeholder:"Password",className:" text-xl m-1 ml-3 outline-none w-11/12",formNoValidate:!0,name:"password",onChange:t.handleChange,value:t.values.password,onBlur:t.handleBlur})}),e("div",{className:"text-red-600 ml-4",children:t.errors.password})]}),e("div",{className:"rounded-2xl bg-yellow-400 px-20 py-2 text-2xl font-bold text-white hover:text-black hover:border-black hover:border-2 cursor-pointer",onClick:m,children:"Sign Up"}),e("hr",{className:"border-t-2 border-gray-500 my-3 h-1 w-9/12"}),e("div",{className:"rounded-2xl bg-blue-400 px-20 py-2 text-2xl font-bold text-white hover:text-black hover:border-black hover:border-2 cursor-pointer",onClick:()=>n("/bookshelf/signUp"),children:"Sign in"})]})]})})}function q(){return w(),d.exports.useState(void 0),i(j,{children:[e(B,{}),e("div",{className:"flex flex-shrink-0 justify-center flex-wrap "})]})}function D(){const r=localStorage.getItem("bookshelfAuth");return r&&JSON.parse(r).isSignedIn?e(y,{to:"Books"}):e(y,{to:"/sign-in"})}b.initializeApp({apiKey:"AIzaSyAC_pfgTeBv5eX-SAryBBV2hMm7t9nfbSo",authDomain:"bookshelf-7f547.firebaseapp.com",projectId:"bookshelf-7f547",storageBucket:"bookshelf-7f547.appspot.com",messagingSenderId:"37943744380",appId:"1:37943744380:web:beec8e86828960d25a36f9"});b.auth();function T(){return w(),e("div",{children:e(C,{children:i(I,{children:[e(x,{exact:!0,path:"/bookshelf/",element:e(D,{})}),e(x,{exact:!0,path:"/bookshelf/Books",element:e(q,{})}),e(x,{exact:!0,path:"/bookshelf/SignUp",element:e(F,{})}),e(x,{exact:!0,path:"/bookshelf/SignIn",element:e(W,{})}),e(x,{exact:!0,path:"/bookshelf/CreateNewBook",element:e(L,{})})]})})})}A.render(e(k.StrictMode,{children:e(P,{children:e(T,{})})}),document.getElementById("root"));
